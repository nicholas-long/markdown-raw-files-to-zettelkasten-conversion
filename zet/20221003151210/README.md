# linux privilege escalation
- `sudo -l`
  - specific permissions to binaries / scripts
    - writable
    - [20221003151209](/zet/20221003151209/README.md) exploiting scripts on linux
  - vulnerable versions of allowed commands
  - `LD_PRELOAD`
  - broken -> SSH / valid TTY and retry
- SUID binaries
  - gtfobins
  - vulnerable versions
  - distinguish default binaries from custom https://github.com/Anon-Exploiter/SUID3NUM
- /opt
- custom interesting binaries or scripts running as other users or root
  - [20221003151178](/zet/20221003151178/README.md) got source code - analysis
  - dependent binaries
- linpeas ( allowed on OSCP if no automatic exploitation )
- getcap capabilities
- enumerate all readable files
- writable files
  - find /etc -writable 2>/dev/null
  - user
  - group
- check mounts in /etc/fstab
- sensitive config files
  - htpasswd
  - database configs
- sensitive logs
  - auth.log
  - bash history
    - passwords or secrets in commands
  - may contain accidental passwords in usernames in login failures
  - dmesg command
- su or brute force with common credentials i.e. `root:root`
- OS version `uname -a && cat /etc/*-release` -> exploit db
- docker
  - from host
    - scan port range to identify running services
      - ssh -> reuse keys and creds found on host
      - exploit known services
  - inside docker
    - check mounted directories
      - write suid binaries to be executed on host
    - deepce
  - image repository -> pull image, hunt for secrets
- root processes, especially
  - databases
  - services exposed on local ports
- installed packages `dpkg -l`
- find scripts, crons, timers
  - pspy
  - exploit wildcards in scripts or cron jobs
  - cron jobs
    - writable scripts
    - writable things used by script
  - [20221003151209](/zet/20221003151209/README.md) exploiting scripts on linux
  - writable or exploitable timers
  - executable payloads or includes -> chmod 777
- local ports
- git or other repositories - check history
- enumerate all writable files and directories
- restricted shell?
  - attempt to execute command on ssh login with argument
  - restricted bash breakouts
  - python script shell breakouts
- writable PATH ( not just my user's path )
- writable service
  - directories `systemctl show-environment`
- headline exploits from privesc to try list
- linux exploit suggester or `les2.pl`
- linenum
- search files by modification date with `find` to see what creators added
- directory permissions that let you move files you can't access
- processes with readable memory
- access to mount - mount something containing setuid binaries
- su or hydra ssh test credential reuse
- check exploits / vulnerabilities found during enumeration
  - leaked credentials
  - potential privesc exploits
  - vulnerable services running as root
- java web -> find website code packaged into war file
  - secrets, config, hardcoded creds
- meterpreter local suggester ( could use once on OSCP )
- no access to read webroot -> try appending known filenames to path to read
- fail2ban -> default config `iptables-multiport.conf` `actionban`
- centos / redhat -> check special file access permissions getfacl
- read / write files as root -> [20221003151200](/zet/20221003151200/README.md) got read or write access to filesystem
- generate password list for each/all users and sucrack

` zet/20221003151210/README.md `

# Related

- [20221003151259](/zet/20221003151259/README.md) stabilize shell with script command
- [20221003150922](/zet/20221003150922/README.md) BSD file transfers
- [20221003150938](/zet/20221003150938/README.md) searchsploit exploitdb linux kernel exploit privesc
- [20221003150346](/zet/20221003150346/README.md) SSH brute force
- [20221003150823](/zet/20221003150823/README.md) hydra ssh brute force
- [20221003150920](/zet/20221003150920/README.md) linux enumeration quick commands
- [20221003150933](/zet/20221003150933/README.md) lxd priv esc without painful build problems
- [20221003151178](/zet/20221003151178/README.md) got source code - analysis to try list
- [20221014185600](/zet/20221014185600/README.md) kb file named kb/hacking/to-try-lists/privesc/linux.md
- [20221014181941](/zet/20221014181941/README.md) general privilege escalation
- [20221003150266](/zet/20221003150266/README.md) systemd-private
- [20221003150322](/zet/20221003150322/README.md) cyber reason
- [20221013190422](/zet/20221013190422/README.md) headline exploits
- [20221003150260](/zet/20221003150260/README.md) sperl and suidperl
- [20221003150353](/zet/20221003150353/README.md) linux PAM module backdoor password build script
- [20221013174958](/zet/20221013174958/README.md) concept of persistence on a target
- [20221003150445](/zet/20221003150445/README.md) linpeas winpeas peass-ng release downloads
- [20221003150426](/zet/20221003150426/README.md) zip slip evilarc.py
- [20221003150727](/zet/20221003150727/README.md) ssh escape rbash set terminal
- [20221003150882](/zet/20221003150882/README.md) writing to and modifying setuid binaries
- [20221003150880](/zet/20221003150880/README.md) polkit linpeas report on CVE-2021-3560
- [20221003150834](/zet/20221003150834/README.md) bruteforcing su passwords with sucrack
- [20221003150891](/zet/20221003150891/README.md) enumerate open ports if `ss` is not present
- [20221003151165](/zet/20221003151165/README.md) TFTP udp 69 to try list
- [20221003151200](/zet/20221003151200/README.md) got read or write access to filesystem
- [20221003151258](/zet/20221003151258/README.md) scan for ports to connect back on through firewall
- [20221012070836](/zet/20221012070836/README.md) asciinema website for recording terminal session
- [20221011182016](/zet/20221011182016/README.md) working notes - privesc
- [20221010142810](/zet/20221010142810/README.md) what is the right and secure way to develop with docker
- [20221010064819](/zet/20221010064819/README.md) locating the origin of files by hash to determine version
- [20221009102436](/zet/20221009102436/README.md) hacking to try lists
- [20221009015558](/zet/20221009015558/README.md) docker
- [20221008215655](/zet/20221008215655/README.md) user account
- [20221008005525](/zet/20221008005525/README.md) bash scripting pitfalls and anti-patterns
- [20221007220451](/zet/20221007220451/README.md) hacking notes hub
- [20221007044552](/zet/20221007044552/README.md) todo or to-try list
- [20221003151209](/zet/20221003151209/README.md) linux privilege escalation exploiting scripts on linux
- [20221003151208](/zet/20221003151208/README.md) linux privilege escalation headline exploits
- ~/kb/hacking/to-try-lists/privesc/linux.md
- [20221003150171](/zet/20221003150171/README.md) linux capabilities
- [20221003150371](/zet/20221003150371/README.md) dump credentials from browsers
- [20221003150293](/zet/20221003150293/README.md) build custom java minecraft plugin with maven
- [20221003150307](/zet/20221003150307/README.md) copy docker binary to target
- [20221013222336](/zet/20221013222336/README.md) how to tell if tmux is running
- [20221003150183](/zet/20221003150183/README.md) add user to docker group
- [20221003151039](/zet/20221003151039/README.md) dumping credentials as admin
- [20221003150875](/zet/20221003150875/README.md) sudo sudoers file all nopassword

Tags:

    #to-try-list #hacking #privesc #linux 
